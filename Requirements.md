# Требования к проекту

## 1. Введение

**Название продукта:** CollabRoom

**Контекст:**  
CollabRoom — это веб-приложение для создания и использования онлайн-комнат, в которых пользователи могут общаться через видеосвязь, аудио и чат. Сервис ориентирован на совместную работу (учёба, митинги, обсуждения).

**Что будет делать система:**
- Регистрация и аутентификация пользователей.
- Создание и управление комнатами.
- Подключение участников к комнате.
- Видеосвязь и аудиосвязь (WebRTC).
- Текстовый чат внутри комнаты.
- Управление устройствами: mute/unmute микрофона, включение/выключение камеры.

**Что не будет делать система (ограничения MVP):**
- Нет записи встреч.
- Нет демонстрации экрана.
- Нет интеграции с внешними календарями или сервисами.
- Нет масштабирования на тысячи участников (только малые группы 2–10 человек).

---

## 2. Требования пользователя

### 2.1 Программные интерфейсы
Приложение будет взаимодействовать со следующими сервисами и библиотеками:
- **WebRTC API** — организация P2P-видеосвязи.
- **STUN/TURN сервер (например, Coturn)** — для установления соединений за NAT.
- **Spring Boot REST API** — backend для аутентификации, управления комнатами и чатом.
- **PostgreSQL** — хранение данных о пользователях и комнатах.
- **Frontend (React/TS или Vue/TS)** — пользовательский интерфейс.
- **WebSocket API** — чат и синхронизация событий в реальном времени.

---

### 2.2 Интерфейс пользователя

**Взаимодействие (пример):**

| Действие пользователя        | Реакция системы                                  |
|-------------------------------|--------------------------------------------------|
| Пользователь регистрируется и входит | Создаётся учётная запись, пользователь попадает на главную страницу |
| Нажимает «Создать комнату»    | Генерируется новая комната, пользователь становится её владельцем |
| Отправляет ссылку другу       | Друг может войти в комнату по ссылке             |
| Включает камеру и микрофон    | Видео/аудио транслируется другим участникам      |
| Выключает микрофон            | Участники больше не слышат пользователя          |
| Пишет сообщение в чат         | Сообщение отображается у всех участников комнаты |

> Желательно нарисовать мокапы: экран регистрации, экран комнаты, панель управления видео/аудио, чат.

---

### 2.3 Характеристики пользователей
- **Студенты, преподаватели, небольшие команды** — минимальный технический опыт, нужен простой интерфейс.
- **Администраторы** — более опытные пользователи, управляют комнатами и сервером.

---

### 2.4 Предположения и зависимости
- Сервис работает только при наличии интернет-соединения.
- Для видеосвязи требуется поддержка WebRTC браузером (Chrome, Firefox, Edge, Safari).
- Производительность ограничена: MVP рассчитан на 2–10 участников в комнате.
- Для обхода NAT требуется внешний STUN/TURN сервер.

---

## 3. Системные требования

### 3.1 Функциональные требования
1. Пользователь должен иметь возможность зарегистрироваться и войти в систему.
2. Пользователь должен иметь возможность создать комнату.
3. Пользователь должен иметь возможность пригласить других участников по ссылке.
4. Система должна предоставлять видеосвязь и аудиосвязь через WebRTC.
5. Система должна предоставлять текстовый чат внутри комнаты.
6. Пользователь должен иметь возможность выключать и включать микрофон.
7. Пользователь должен иметь возможность выключать и включать камеру.
8. Система должна отображать список участников комнаты.
9. Администратор комнаты должен иметь возможность удалять участников.

---

### 3.2 Нефункциональные требования

#### 3.2.1 Атрибуты качества
- **Надёжность**: соединение должно сохраняться при небольших перебоях в сети.
- **Безопасность**:  
  - пароли хранятся в хэшированном виде (BCrypt);  
  - доступ к комнате возможен только по уникальной ссылке или коду.  
- **Юзабилити**: минималистичный интерфейс, фокус на простоте (2–3 клика для подключения).
- **Производительность**: поддержка до 10 одновременных участников в комнате без ощутимых лагов.
- **Совместимость**: работа в основных браузерах (Chrome, Firefox, Edge, Safari).
